NIP-07
======

浏览器 `window.nostr` 能力
---------------------------

`草案` `可选` `作者:fiatjaf`

浏览器或扩展可能会提供 `window.nostr` 对象，网站或网络应用在检查其可用性后可能会使用它。

该对象必须定义以下方法：

```ts
async window.nostr.getPublicKey(): string // 返回十六进制的公钥
async window.nostr.signEvent(event: Event): Event // 接收一个事件对象，添加 `id`，`pubkey` 和 `sig`，然后返回它
```

除了上述的这两个基本功能外，也可以选择性地实现以下功能：

```ts
async window.nostr.getRelays(): { [url: string]: {read: boolean, write: boolean} } // 返回一个中继 URL 到中继策略的基本映射
async window.nostr.nip04.encrypt(pubkey, plaintext): string // 返回 nip-04 规定的密文和 iv
async window.nostr.nip04.decrypt(pubkey, ciphertext): string // 接收 nip-04 规定的密文和 iv
```

### 实现

- [horse](https://github.com/fiatjaf/horse)（类 Chrome）
- [nos2x](https://github.com/fiatjaf/nos2x)（类 Chrome）
- [Alby](https://getalby.com)（类 Chrome，Firefox）
- [Blockcore](https://www.blockcore.net/wallet)（类 Chrome）
- [nos2x-fox](https://diegogurpegui.com/nos2x-fox/)（Firefox）
- [Flamingo](https://www.getflamingo.org/)（类 Chrome）
- [AKA Profiles](https://github.com/neilck/aka-extension)（Chrome, 存储多个密钥）
- [TokenPocket](https://www.tokenpocket.pro/)（Android, iOS, 类 Chrome）
- [Nostrmo](https://github.com/haorendashu/nostrmo_faq#download)（Android, iOS）
- [Spring Browser](https://spring.site) (Android）
