NIP-09
======

事件删除
--------

`草案` `可选` `作者:scsibug`

定义了一种类型为 `5` 的特殊事件，意为“删除”，它包含一个或多个 `e` 标签的列表，每个标签表示一个作者请求删除的事件。

每个标签条目必须包含一个“e”事件 id 和/或用于删除的 NIP-33 `a` 标签。

事件的 `content` 字段**可以**包含描述删除原因的文本注释。

例如：

```
{
  "kind": 5,
  "pubkey": <事件创建者的 32 字节十六进制编码公钥>,
  "tags": [
    ["e", "dcd59..464a2"],
    ["e", "968c5..ad7a4"],
    ["a", "<类型>:<公钥>:<d-标识符>"]
  ],
  "content": "这些帖子是意外发布的",
  ...其它字段
}
```

中继**应该**删除或停止发布任何与删除请求所引用的具有相同 `pubkey` 的事件。客户端**应该**隐藏或以其他方式指示引用事件的删除状态。

中继**应该**无限期地继续发布/分享删除事件，因为客户端可能已经获得了预期被删除的事件。此外，客户端**应该**向其它未获得删除事件的中继进行广播。

## 客户端使用

客户端**可以**选择完全隐藏任何被有效删除事件引用的事件。这包括贴文，私信，或其它尚未定义的事件类型。或者，它们**可以**显示事件，并附带一个图标或其他指示作者已经“放弃”该事件的标志。`content` 字段也**可以**用来替换被删除事件的内容，尽管用户界面应清楚地指示这是删除原因，而不是原始内容。

在隐藏或删除任何事件之前，客户端**必须**验证删除请求的 `e` 标签中引用的每个事件 `pubkey` 是否与删除请求的 `pubkey` 相同。一般而言，中继不能执行此验证，也不应被视为权威。

客户端可以以它们选择的任何方式显示删除事件本身，例如，完全不显示，或者带有突出的通知。

## 中继使用

中继**可以**验证删除事件是否只引用与删除本身具有相同 `pubkey` 的事件，但这不是必需的，因为中继可能不知道所有引用的事件。

## 删除删除

对删除发布删除事件没有效果。客户端和中继没有义务支持“取消删除”功能。
