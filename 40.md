NIP-40
======

过期时间戳
----------

`草案` `可选` `作者:0xtlt`

`expiration` 标签使用户能够指定一个 unix 时间戳，此时消息**应该**被视为过期（由中继和客户端）并**应该**由中继删除。

#### 规范

```
tag: expiration
values:
 - [UNIX timestamp in seconds]: required
```

#### 示例

```json
{
    "pubkey": "<pub-key>",
    "created_at": 1000000000,
    "kind": 1,
    "tags": [
      ["expiration", "1600000000"]
    ],
    "content": "This message will expire at the specified timestamp and be deleted by relays.\n",
    "id": "<event-id>"
}
```

注意：时间戳的格式应与 `created_at` 时间戳的格式相同，并应被解释为消息应被中继删除的时间。

客户端行为
----------

客户端**应该**使用 `supported_nips` 字段来了解中继是否支持此 NIP。客户端**不该**向不支持此 NIP 的中继发送过期事件。

客户端**应该**忽略已过期的事件。

中继行为
--------

中继**可以不**在过期时立即删除过期的消息，**可以**无限期地保存它们。  
中继**不该**向客户端发送过期的事件，即使它们被存储。  
中继**应该**丢弃发布给它们的任何已过期的事件。  
过期时间戳不影响临时事件的存储。

建议使用案例
------------

* 临时公告 - 可以使用此标签进行临时公告。例如，活动组织者可以使用此标签发布关于即将举行的活动的公告。
* 限时优惠 - 企业可以使用此标签进行限时优惠，这些优惠在一定时间后过期。例如，企业可以使用此标签进行只在限定时间内可用的特别优惠。

#### 警告

事件可能会被第三方下载，因为它们在中继上始终可以公开访问。
所以，不要将过期消息视为保护你的对话或其他用途的安全功能。
