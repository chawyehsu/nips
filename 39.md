NIP-39
======

个人资料中的外部身份
--------------------

`草案` `可选` `作者:pseudozach` `作者:Semisol`

## 摘要

Nostr 协议的用户可能有其他的在线身份，如用户名、个人资料页面、密钥对等，他们可能希望在他们的个人资料元数据中包含这些数据，以便客户端可以解析、验证和显示这些信息。

## 元数据事件中的 `i` 标签

在 [NIP-01](https://github.com/nostr-protocol/nips/blob/master/01.md) 中包含的名称、关于、图片字段之外，为 `kind 0` 元数据事件内容引入了一个新的可选 `i` 标签：

```json
{
    "id": <id>,
    "pubkey": <pubkey>,
    ...
    "tags": [
        ["i", "github:semisol", "9721ce4ee4fceb91c9711ca2a6c9a5ab"],
        ["i", "twitter:semisol_public", "1619358434134196225"],
        ["i", "mastodon:bitcoinhackers.org/@semisol", "109775066355589974"]
        ["i", "telegram:1087295469", "nostrdirectory/770"]
    ]
}
```

`i` 标签将有两个参数，定义如下：
1. `platform:identity`：平台名称（例如 `github`）和该平台上的身份（例如 `semisol`），用 `:` 连接在一起。
2. `proof`：指向拥有此身份证明的字符串或对象。

客户端**应该**处理任何具有超过 2 个值的 `i` 标签以实现未来的扩展性。  
身份提供方名称**应该**仅包括 `a-z`、`0-9` 和字符 `._-/`，且不得包含 `:`。  
如果可能，身份名称**应该**通过将大写字母替换为小写字母来规范化，且如果一个实体有多个别名则应使用主要的那个。  

## 声明类型

### `github`

身份：GitHub 用户名。

证明：GitHub Gist ID。这个 Gist 应由 `<identity>` 创建，包含一个文件，文件中有文本 `Verifying that I control the following Nostr public key: <npub encoded public key>`。
可以在 `https://gist.github.com/<identity>/<proof>` 找到它。

### `twitter`

身份：Twitter 用户名。

证明：Tweet ID。这条推文应由 `<identity>` 发布，并有文本 `Verifying my account on nostr My Public Key: "<npub encoded public key>"`。
可以在 `https://twitter.com/<identity>/status/<proof>` 找到它。

### `mastodon`

身份：Mastodon 实例和用户名，格式为 `<instance>/@<username>`。

证明：Mastodon 帖子 ID。这篇帖子应由 `<username>@<instance>` 发布，并有文本 `Verifying that I control the following Nostr public key: "<npub encoded public key>"`。
可以在 `https://<identity>/<proof>` 找到它。

### `telegram`

身份：Telegram 用户 ID。

证明：格式为 `<ref>/<id>` 的字符串，指向在公开频道或群组 `<ref>` 中发布的消息 ID 为 `<id>` 的消息。这条消息应由用户 ID `<identity>` 发送，并有文本 `Verifying that I control the following Nostr public key: "<npub encoded public key>"`。  
可以在 `https://t.me/<proof>` 找到它。
