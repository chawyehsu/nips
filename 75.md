# NIP-75

## Zap 目标

`草案` `可选` `作者:verbiricha`

此 NIP 定义了创建众筹目标的事件。用户可以通过对目标事件进行 zap 来为目标筹集资金。

## Nostr 事件

使用 `kind:9041` 事件。

`.content` 包含目标的人类可读描述。

以下标签被定义为**必需**。

- `amount` - 目标金额，以 milisats 为单位。
- `relays` - 将向此目标发送和汇总 zap 的中继列表。

示例事件：

```json
{
  "kind": 9041,
  "tags": [
    ["relays", "wss://alicerelay.example.com", "wss://bobrelay.example.com", ...],
    ["amount", "210000"],
  ],
  "content": "Nostrasia travel expenses",
  ...其它字段
```

以下标签是**可选**的。

- `closed_at` - 时间戳，用于确定哪些 zap 包含在总计目标中。在 `closed_at` 时间戳之后发布的 Zap 收据**不该**计入目标进度。

```json
{
  "kind": 9041,
  "tags": [
    ["relays", "wss://alicerelay.example.com", "wss://bobrelay.example.com", ...],
    ["amount", "210000"],
    ["closed_at", "<unix timestamp in seconds>"],
  ],
  "content": "Nostrasia travel expenses",
  ...其它字段
```

目标**可以**包含一个 `r` 或 `a` 标签，链接到一个 URL 或参数化的可替换事件。

目标**可以**通过指定 [`zap` 标签](57.md#appendix-g-zap-tag-on-other-events) 来包含多个受益人公钥。

参数化的可替换事件可以通过使用一个 `goal` 标签来链接到一个目标，该标签指定了事件 id 和一个可选的中继提示。

```json
{
  "kind": 3XXXX,
  "tags": [
    ...
    ["goal", "<event id>", "<Relay URL (optional)>"],
  ],
  ...其它字段
```

## 客户端行为

客户端**可以**在用户个人资料上显示众筹目标。

当对目标事件进行 zap 操作时，客户端**必须**在 zap 请求的 `relays` 标签中包含目标事件的 `relays` 标签。

当对带有 `goal` 标签的参数化可替换事件进行 zap 操作时，客户端**应该**在 zap 请求的 `e` 标签中标记目标事件 id。

## 使用案例

- 客户端众筹
- 为长格式贴文、徽章或直播等事件添加众筹目标
